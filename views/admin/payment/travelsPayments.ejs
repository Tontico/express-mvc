<%-contentFor("main") %>
<div class="max-w-6xl mx-auto mt-8 p-6">
  <h2 class="text-2xl font-bold mb-6">
    Paiements - <%= travel.depart %> → <%= travel.destination %>
  </h2>

  <table class="w-full bg-white rounded-lg shadow overflow-hidden">
    <thead class="bg-gray-50">
      <tr class="text-left">
        <th class="px-4 py-3 font-medium">Voyageur</th>
        <th class="px-4 py-3 font-medium">Type de paiment</th>
        <th class="px-4 py-3 font-medium">Date</th>
        <th class="px-4 py-3 font-medium">Montant</th>
      </tr>
    </thead>

    <tbody class="divide-y divide-gray-200">
      <% if (payments && payments.length > 0) { payments.forEach((payment)=> {
      %>
      <tr class="hover:bg-gray-50">
        <td class="px-4 py-3">
          <%= payment.id_user.firstname %> <%= payment.id_user.lastname %>
        </td>
        <td class="px-4 py-3">
          <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">
            <%= payment.payment_method %>
          </span>
        </td>
        <td class="px-4 py-3 text-gray-500">
          <%= new Date(payment.createdAt ||
          Date.now()).toLocaleDateString('fr-FR') %>
        </td>
        <td class="px-4 py-3"><%= payment.amount || travel.price %>€</td>
      </tr>

      <% }) %> <% } else { %>
      <tr>
        <td colspan="4" class="px-4 py-8 text-center text-gray-500">
          Aucun document uploadé pour ce voyage
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
