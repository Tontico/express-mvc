<%-contentFor("main") %>
<div class="max-w-6xl mx-auto mt-8 p-6">
  <h2 class="text-2xl font-bold mb-6">
    Documents - <%= travel.depart %> → <%= travel.destination %>
  </h2>

  <table class="w-full bg-white rounded-lg shadow overflow-hidden">
    <thead class="bg-gray-50">
      <tr class="text-left">
        <th class="px-4 py-3 font-medium">Voyageur</th>
        <th class="px-4 py-3 font-medium">Type</th>
        <th class="px-4 py-3 font-medium">Date</th>
        <th class="px-4 py-3 font-medium">Actions</th>
      </tr>
    </thead>

    <tbody class="divide-y divide-gray-200">
      <% if (documents && documents.length > 0) { %> <%
      documents.forEach((document) => { %>
      <tr class="hover:bg-gray-50">
        <td class="px-4 py-3">
          <%= document.id_registration.id_user.firstname %> <%=
          document.id_registration.id_user.lastname %>
        </td>
        <td class="px-4 py-3">
          <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">
            <%= document.type %>
          </span>
        </td>
        <td class="px-4 py-3 text-gray-500">
          <%= new Date(document.createdAt ||
          Date.now()).toLocaleDateString('fr-FR') %>
        </td>
        <td class="px-4 py-3">
          <a
            href="<%= document.url %>"
            target="_blank"
            class="text-blue-600 hover:underline mr-3"
            >Voir</a
          >
          <a
            href="<%= document.url %>"
            download
            class="text-green-600 hover:underline"
            >Télécharger</a
          >
        </td>
      </tr>
      <% }) %> <% } else { %>
      <tr>
        <td colspan="4" class="px-4 py-8 text-center text-gray-500">
          Aucun document uploadé pour ce voyage
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
